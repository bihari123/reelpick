{"ast":null,"code":"// src/Components/UploadForm/UploadForm.tsx\nimport React,{useRef,useState}from\"react\";import Button from\"../Button/Button\";import upload from\"../../assets/Upload.svg\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const UploadForm=_ref=>{let{onFileSelect}=_ref;const fileInputRef=useRef(null);const[dragging,setDragging]=useState(false);const maxSize=500*1024*1024;// 500MB\nconst openFileDialog=()=>{if(fileInputRef.current){fileInputRef.current.click();}};const validateFile=file=>{if(!file.name.endsWith(\".srt\")){alert(\"Please upload a valid .srt file.\");return false;}if(file.size>maxSize){alert(\"File size exceeds 500MB.\");return false;}return true;};const handleFileChange=event=>{var _event$target$files;const file=(_event$target$files=event.target.files)===null||_event$target$files===void 0?void 0:_event$target$files[0];if(file&&validateFile(file)){onFileSelect(file);}};const handleDrop=event=>{var _event$dataTransfer$f;event.preventDefault();event.stopPropagation();setDragging(false);const file=(_event$dataTransfer$f=event.dataTransfer.files)===null||_event$dataTransfer$f===void 0?void 0:_event$dataTransfer$f[0];if(file&&validateFile(file)){onFileSelect(file);}};const handleDragOver=event=>{event.preventDefault();setDragging(true);};const handleDragLeave=()=>{setDragging(false);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:`border-2 border-dashed border-green-500 rounded-lg p-12 bg-white \n        ${dragging?\"border-green-600\":\"\"}`,onDrop:handleDrop,onDragOver:handleDragOver,onDragLeave:handleDragLeave,children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center mb-4 border-2 border-green-500 h-16 w-16 rounded-2xl mx-auto shadow-outside-custom\",children:/*#__PURE__*/_jsx(\"img\",{src:upload,alt:\"upload\",className:\"h-16 w-16\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-4\",children:\"Drag & Drop or Choose file to upload\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400\",children:\"Supported formats: .srt (Max size: 500MB)\"}),/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,type:\"file\",accept:\".srt\",onChange:handleFileChange,style:{display:\"none\"}}),/*#__PURE__*/_jsx(Button,{className:\"mt-4 bg-green-500 text-white py-2 px-6 rounded hover:bg-green-600\",onClick:openFileDialog,children:\"Upload Now\"})]})});};export default UploadForm;","map":{"version":3,"names":["React","useRef","useState","Button","upload","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UploadForm","_ref","onFileSelect","fileInputRef","dragging","setDragging","maxSize","openFileDialog","current","click","validateFile","file","name","endsWith","alert","size","handleFileChange","event","_event$target$files","target","files","handleDrop","_event$dataTransfer$f","preventDefault","stopPropagation","dataTransfer","handleDragOver","handleDragLeave","children","className","onDrop","onDragOver","onDragLeave","src","alt","ref","type","accept","onChange","style","display","onClick"],"sources":["/media/tarun/ITB/code/work/thinkelution/Videolution-Analyzer-App/src/Components/Upload/UploadForm.tsx"],"sourcesContent":["// src/Components/UploadForm/UploadForm.tsx\n\nimport React, { useRef, useState } from \"react\";\nimport Button from \"../Button/Button\";\nimport upload from \"../../assets/Upload.svg\";\nimport { UploadFormProps } from \"../Upload/utils/upload.types\";\nimport { FileUploadService } from \"../Upload/services/fileUploadService\";\nimport HeatChart from '../../Components/HeatChart/HeatChart'\nconst UploadForm: React.FC<UploadFormProps> = ({ onFileSelect }) => {\n\tconst fileInputRef = useRef<HTMLInputElement | null>(null);\n\tconst [dragging, setDragging] = useState(false);\n\tconst maxSize = 500 * 1024 * 1024; // 500MB\n\n\tconst openFileDialog = () => {\n\t\tif (fileInputRef.current) {\n\t\t\tfileInputRef.current.click();\n\t\t}\n\t};\n\n\tconst validateFile = (file: File): boolean => {\n\t\tif (!file.name.endsWith(\".srt\")) {\n\t\t\talert(\"Please upload a valid .srt file.\");\n\t\t\treturn false;\n\t\t}\n\t\tif (file.size > maxSize) {\n\t\t\talert(\"File size exceeds 500MB.\");\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t};\n\n\tconst handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst file = event.target.files?.[0];\n\t\tif (file && validateFile(file)) {\n\t\t\tonFileSelect(file);\n\t\t}\n\t};\n\n\tconst handleDrop = (event: React.DragEvent<HTMLDivElement>) => {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t\tsetDragging(false);\n\n\t\tconst file = event.dataTransfer.files?.[0];\n\t\tif (file && validateFile(file)) {\n\t\t\tonFileSelect(file);\n\t\t}\n\t};\n\n\tconst handleDragOver = (event: React.DragEvent<HTMLDivElement>) => {\n\t\tevent.preventDefault();\n\t\tsetDragging(true);\n\t};\n\n\tconst handleDragLeave = () => {\n\t\tsetDragging(false);\n\t};\n\n\treturn (\n\t\t<>\n\t\t<div\n\t\t\tclassName={`border-2 border-dashed border-green-500 rounded-lg p-12 bg-white \n        ${dragging ? \"border-green-600\" : \"\"}`}\n\t\t\tonDrop={handleDrop}\n\t\t\tonDragOver={handleDragOver}\n\t\t\tonDragLeave={handleDragLeave}\n\t\t>\n\t\t\t<div className=\"flex justify-center items-center mb-4 border-2 border-green-500 h-16 w-16 rounded-2xl mx-auto shadow-outside-custom\">\n\t\t\t\t<img src={upload} alt=\"upload\" className=\"h-16 w-16\" />\n\t\t\t</div>\n\t\t\t<p className=\"text-gray-500 mb-4\">Drag & Drop or Choose file to upload</p>\n\t\t\t<p className=\"text-sm text-gray-400\">\n\t\t\t\tSupported formats: .srt (Max size: 500MB)\n\t\t\t</p>\n\n\t\t\t<input\n\t\t\t\tref={fileInputRef}\n\t\t\t\ttype=\"file\"\n\t\t\t\taccept=\".srt\"\n\t\t\t\tonChange={handleFileChange}\n\t\t\t\tstyle={{ display: \"none\" }}\n\t\t\t/>\n\t\t\t<Button\n\t\t\t\tclassName=\"mt-4 bg-green-500 text-white py-2 px-6 rounded hover:bg-green-600\"\n\t\t\t\tonClick={openFileDialog}\n\t\t\t>\n\t\t\t\tUpload Now\n\t\t\t</Button>\n\t\t\t\n\t\t</div>\n\t\t</>\n\t);\n};\n\nexport default UploadForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}